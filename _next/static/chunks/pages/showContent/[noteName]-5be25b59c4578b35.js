(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{61681:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/showContent/[noteName]",function(){return n(21040)}])},91293:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=n(85893),l=n(63083),a=n.n(l),s=n(62563),o=n(30814),i=n(28907),c=n(68141);n(74595);var h=n(93179),d=n(84283);function u(t){return(0,r.jsx)(s.D,{components:{img:t=>(0,r.jsx)("img",{...t,style:{maxWidth:"100%"}}),code(t){let{node:e,inline:n,className:l,children:a,...s}=t,o=/language-(\w+)/.exec(l||"");return!n&&o?(0,r.jsx)(h.Z,{...s,style:d.m4,language:o[1],PreTag:"div",children:String(a).replace(/\n$/,"")}):(0,r.jsx)("code",{className:l,...s,children:a})}},remarkPlugins:[o.Z],rehypePlugins:[i.Z,c.Z],className:a().markdown,transformImageUri:(e,n,r)=>e.startsWith("http://")||e.startsWith("https://")?e:"../../sources/"+t.parentPath+"/"+e,children:t.content})}},21040:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return y},default:function(){return N}});var r=n(85893),l=n(17136),a=n.n(l),s=n(1274),o=n(1869),i=n(80011),c=n(45453),h=n(19944),d=n(84477),u=n(62635),m=n(67294),g=n(25675),f=n.n(g),p=n(41664),_=n.n(p);n(9675);var x=n(91293);let{Header:j,Content:w,Sider:C}=s.Z,k=n(83346);var y=!0;function N(t){let{notes:e}=t,[n,l]=(0,m.useState)(!1),[g,p]=(0,m.useState)([]),[y,N]=(0,m.useState)("0"),[b,v]=(0,m.useState)(-1),[I,S]=(0,m.useState)("");(0,m.useEffect)(()=>{P()},[y]);let P=()=>{let t=y.split("-"),n=[];if(1==t.length)n=e[parseInt(t[0])].mds,S(e[parseInt(t[0])].parentPath);else{let r={};t.forEach((t,n)=>{r=0==n?e[parseInt(t)]:r.children[parseInt(t)]}),r.mds&&(n=r.mds),r.parentPath&&S(r.parentPath)}p(n),n.length>0?v(0):(v(-1),S(""))},Z=t=>{N(t)},[E,D]=(0,m.useState)(!1),F=()=>{let t=document.getElementById("contaniner");null!=t&&((t.scrollTop||0)>.3*t.clientHeight?D(!0):D(!1))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j,{className:a().header,children:[(0,r.jsxs)("div",{className:a().headerLeft,children:[m.createElement(n?h.Z:d.Z,{className:a().trigger,onClick:()=>l(!n)}),(0,r.jsx)(_(),{href:k.hostname.length>0?k.hostname:"/",className:a().link,children:(0,r.jsx)(f(),{className:a().iconImage,src:"../../favicon.ico",alt:"",width:22,height:22})}),(0,r.jsx)(_(),{href:"https://github.com/flyingDandelionYD",className:a().link,children:(0,r.jsx)(f(),{priority:!0,className:a().iconImage,src:"../../github.jpg",alt:"",width:32,height:22})})]}),(0,r.jsx)("div",{className:a().headerRight,children:t.notesItems?(0,r.jsx)(o.Z,{listHeight:500,dropdownStyle:{padding:"10px 16px"},dropdownMatchSelectWidth:!1,placement:"bottomRight",treeData:t.notesItems,placeholder:"请选择笔记",treeDefaultExpandAll:!0,value:y,onSelect:Z}):(0,r.jsx)(r.Fragment,{})})]}),(0,r.jsxs)(s.Z,{className:a().layoutContainer,children:[(0,r.jsx)(C,{className:a().sider,trigger:null,collapsible:!0,collapsed:n,width:220,collapsedWidth:0,breakpoint:"sm",onBreakpoint:t=>{l(t)},children:g.length>0?(0,r.jsx)(i.ZP,{itemLayout:"horizontal",dataSource:g,renderItem:(t,e)=>(0,r.jsx)(i.ZP.Item,{style:b==e?{color:"#b000cd",backgroundColor:"rgb(247 247 247)"}:{color:"black",backgroundColor:"#fff"},className:a().listItem,onClick:()=>{v(e)},children:t.title.replace(".md","")})}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(w,{className:a().contents,children:g[b]?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:"contaniner",onScrollCapture:F,style:{backgroundColor:"white",height:"100%",borderRadius:"6px",overflowY:"scroll",padding:"8px",scrollBehavior:"smooth"},children:["  ",g[b].frontmatter?(0,r.jsxs)("div",{style:{padding:"8px 0 0 0"},children:[g[b].frontmatter.title?(0,r.jsx)("div",{children:"标题:"+g[b].frontmatter.title}):null,g[b].frontmatter.description?(0,r.jsx)("div",{children:"描述:"+g[b].frontmatter.description}):null,g[b].frontmatter.createdDate?(0,r.jsx)("div",{children:"创建日期:"+g[b].frontmatter.createdDate}):null,g[b].frontmatter.tags?(0,r.jsx)("div",{children:"类别:"+g[b].frontmatter.tags}):null]}):null,(0,r.jsx)(x.default,{content:g[b].content,parentPath:I})]}),E?(0,r.jsx)(c.Z,{icon:(0,r.jsx)(u.Z,{}),onClick:()=>{let t=document.getElementById("contaniner");null!=t&&(t.scrollTop=0)}}):null]}):(0,r.jsx)(r.Fragment,{})})]})]})}let b=(t,e)=>{let n=[];return t&&t.length>0&&t.forEach((t,r)=>{if(t.title&&t.title.length){let l=e.length>0?e+"-"+r:r+"",a={value:l,title:t.title};if(t.children&&t.children.length>0){let s=b(t.children,l);s.length>0&&Object.assign(a,{children:s})}n.push(a)}}),n},v=async t=>{try{let e=await fetch(k.getsourceshost+"/onemdcontent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({mdpath:t})}),n=await e.json();return n.content}catch(r){return console.log("获取mdconent失败:"+t),console.log(r),""}},I=async(t,e)=>{if(t&&t.length>0){for(let n of t)if(n.title&&n.title.length){let r=e+"/"+n.title;if(Object.assign(n,{parentPath:r}),n.mds&&n.mds.length>0)for(let l of n.mds){let a=await v(r+"/"+l.title),{data:s,content:o}=matter(a);Object.assign(l,{frontmatter:s,content:o})}n.children&&n.children.length>0&&await I(n.children,r)}}return t}},63083:function(t){t.exports={markdown:"markdown_markdown__yfc8y"}},17136:function(t){t.exports={header:"showContent_header__OgP6r",headerLeft:"showContent_headerLeft__AlL_G",headerRight:"showContent_headerRight__8Nirb",link:"showContent_link__co7er",iconImage:"showContent_iconImage__uHuFL",layoutContainer:"showContent_layoutContainer__Sgxcg",trigger:"showContent_trigger__pFXjD",sider:"showContent_sider___9IVX",listItem:"showContent_listItem__0ccke",contents:"showContent_contents__tcw8b"}},33596:function(){}},function(t){t.O(0,[265,146,896,526,664,643,774,888,179],function(){return t(t.s=61681)}),_N_E=t.O()}]);