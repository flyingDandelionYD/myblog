(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{61681:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/showContent/[noteName]",function(){return n(21040)}])},91293:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var r=n(85893),a=n(63083),l=n.n(a),o=n(99372),s=n(38522),i=n(28907),c=n(68141);n(74595),n(49499);var d=n(93179),h=n(84283),m=n(39359),g=n(33977);n(82946);var u=n(67294);function f(t){let[e,n]=(0,u.useState)(!1),a=["h1","h2","h3","h4","h5","h6"],f=t=>{let e=[];a.forEach(t=>{let n=document.getElementsByTagName(t);for(let r=0;r<n.length;r++)e.push(n[r])});let n=e.filter(e=>e.dataset&&e.dataset.id==t&&e.parentElement&&e.parentElement.className.startsWith(l().markdown));if(0==n.length)return;let r=document.getElementById("contaniner");null!=r&&(r.scrollTop=n[0].offsetTop-80)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.D,{components:{img:t=>(0,r.jsx)("img",{...t,style:{maxWidth:"100%"}}),code(t){let{node:e,inline:n,className:a,children:l,...o}=t,s=/language-(\w+)/.exec(a||"");return!n&&s?(0,r.jsx)(d.Z,{...o,style:h.m4,language:s[1],PreTag:"div",children:String(l).replace(/\n$/,"")}):(0,r.jsx)("code",{className:a,...o,children:l})}},remarkPlugins:[s.Z,m.Z],rehypePlugins:[i.Z,c.Z],className:[l().markdown,"markdown-body"].join(" "),transformImageUri:(e,n,r)=>e.startsWith("http://")||e.startsWith("https://")?e:"../../sources/"+t.parentPath+"/"+e,children:t.content}),(0,r.jsxs)("div",{className:"".concat(l().navContainer," ").concat(e?"":l().navContainerHide),children:[(0,r.jsx)("div",{className:l().toggleBtn,onClick:()=>{n(!e)},children:e?"目录 →":"← 目录"}),(0,r.jsx)(g.ZP,{ordered:!1,source:t.content,onNavItemClick:(t,e,n)=>{f(n)}})]})]})}},21040:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return v},default:function(){return N}});var r=n(85893),a=n(17136),l=n.n(a),o=n(1274),s=n(1869),i=n(80011),c=n(45453),d=n(19944),h=n(84477),m=n(62635),g=n(67294),u=n(25675),f=n.n(u),p=n(41664),_=n.n(p);n(9675);var x=n(91293);let{Header:j,Content:w,Sider:C}=o.Z,k=n(83346);var v=!0;function N(t){let{notes:e}=t,[n,a]=(0,g.useState)(!1),[u,p]=(0,g.useState)([]),[v,N]=(0,g.useState)("0"),[y,b]=(0,g.useState)(-1),[I,E]=(0,g.useState)("");(0,g.useEffect)(()=>{S()},[v]);let S=()=>{let t=v.split("-"),n=[];if(1==t.length)n=e[parseInt(t[0])].mds,E(e[parseInt(t[0])].parentPath);else{let r={};t.forEach((t,n)=>{r=0==n?e[parseInt(t)]:r.children[parseInt(t)]}),r.mds&&(n=r.mds),r.parentPath&&E(r.parentPath)}p(n.sort((t,e)=>{let n=/[a-zA-Z0-9]/;return n.test(t)||n.test(e)?t>e?1:t<e?-1:0:t.localeCompare(e)})),n.length>0?b(0):(b(-1),E(""))},Z=t=>{N(t)},[P,T]=(0,g.useState)(!1),B=()=>{let t=document.getElementById("contaniner");null!=t&&((t.scrollTop||0)>.3*t.clientHeight?T(!0):T(!1))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j,{className:l().header,children:[(0,r.jsxs)("div",{className:l().headerLeft,children:[g.createElement(n?d.Z:h.Z,{className:l().trigger,onClick:()=>a(!n)}),(0,r.jsx)(_(),{href:k.hostname.length>0?k.hostname:"/",className:l().link,children:(0,r.jsx)(f(),{className:l().iconImage,src:"../../favicon.ico",alt:"",width:22,height:22})}),(0,r.jsx)(_(),{href:"https://github.com/flyingDandelionYD",className:l().link,children:(0,r.jsx)(f(),{priority:!0,className:l().iconImage,src:"../../github.jpg",alt:"",width:32,height:22})})]}),(0,r.jsx)("div",{className:l().headerRight,children:t.notesItems?(0,r.jsx)(s.Z,{listHeight:500,dropdownStyle:{padding:"10px 16px"},dropdownMatchSelectWidth:!1,placement:"bottomRight",treeData:t.notesItems,placeholder:"请选择笔记",treeDefaultExpandAll:!0,value:v,onSelect:Z}):(0,r.jsx)(r.Fragment,{})})]}),(0,r.jsxs)(o.Z,{className:l().layoutContainer,children:[(0,r.jsx)(C,{className:l().sider,trigger:null,collapsible:!0,collapsed:n,width:220,collapsedWidth:0,breakpoint:"sm",onBreakpoint:t=>{a(t)},children:u.length>0?(0,r.jsx)(i.ZP,{itemLayout:"horizontal",dataSource:u,renderItem:(t,e)=>(0,r.jsx)(i.ZP.Item,{style:y==e?{color:"#b000cd",backgroundColor:"rgb(247 247 247)"}:{color:"black",backgroundColor:"#fff"},className:l().listItem,onClick:()=>{b(e)},children:t.title.replace(".md","")})}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)(w,{className:l().contents,children:u[y]?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:"contaniner",onScrollCapture:B,style:{backgroundColor:"white",height:"100%",borderRadius:"6px",overflowY:"scroll",padding:"8px",scrollBehavior:"smooth"},children:["  ",u[y].frontmatter?(0,r.jsxs)("div",{style:{padding:"8px 0 0 0"},children:[u[y].frontmatter.title?(0,r.jsx)("div",{children:"标题:"+u[y].frontmatter.title}):null,u[y].frontmatter.description?(0,r.jsx)("div",{children:"描述:"+u[y].frontmatter.description}):null,u[y].frontmatter.createdDate?(0,r.jsx)("div",{children:"创建日期:"+u[y].frontmatter.createdDate}):null,u[y].frontmatter.tags?(0,r.jsx)("div",{children:"类别:"+u[y].frontmatter.tags}):null]}):null,(0,r.jsx)(x.default,{content:u[y].content,parentPath:I})]}),P?(0,r.jsx)(c.Z,{icon:(0,r.jsx)(m.Z,{}),onClick:()=>{let t=document.getElementById("contaniner");null!=t&&(t.scrollTop=0)}}):null]}):(0,r.jsx)(r.Fragment,{})})]})]})}let y=(t,e)=>{let n=[];return t&&t.length>0&&t.forEach((t,r)=>{if(t.title&&t.title.length){let a=e.length>0?e+"-"+r:r+"",l={value:a,title:t.title};if(t.children&&t.children.length>0){let o=y(t.children,a);o.length>0&&Object.assign(l,{children:o})}n.push(l)}}),n},b=async t=>{try{let e=await fetch(k.getsourceshost+"/onemdcontent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({mdpath:t})}),n=await e.json();return n.content}catch(r){return console.log("获取mdconent失败:"+t),console.log(r),""}},I=async(t,e)=>{if(t&&t.length>0){for(let n of t)if(n.title&&n.title.length){let r=e+"/"+n.title;if(Object.assign(n,{parentPath:r}),n.mds&&n.mds.length>0)for(let a of n.mds){let l=await b(r+"/"+a.title),{data:o,content:s}=matter(l);Object.assign(a,{frontmatter:o,content:s})}n.children&&n.children.length>0&&await I(n.children,r)}}return t}},63083:function(t){t.exports={markdown:"markdown_markdown__yfc8y",toggleBtn:"markdown_toggleBtn__THOt4",navContainer:"markdown_navContainer__DnxsX",navContainerHide:"markdown_navContainerHide__8LalC"}},17136:function(t){t.exports={header:"showContent_header__OgP6r",headerLeft:"showContent_headerLeft__AlL_G",headerRight:"showContent_headerRight__8Nirb",link:"showContent_link__co7er",iconImage:"showContent_iconImage__uHuFL",layoutContainer:"showContent_layoutContainer__Sgxcg",trigger:"showContent_trigger__pFXjD",sider:"showContent_sider___9IVX",listItem:"showContent_listItem__0ccke",contents:"showContent_contents__tcw8b"}},33596:function(){}},function(t){t.O(0,[265,146,116,831,526,664,643,774,888,179],function(){return t(t.s=61681)}),_N_E=t.O()}]);