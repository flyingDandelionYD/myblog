(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{61681:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/showContent/[noteName]",function(){return n(21040)}])},91293:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(85893),r=n(63083),l=n.n(r),s=n(99372),o=n(38522),i=n(28907),c=n(68141);n(74595);var d=n(93179),h=n(84283),m=n(39359),g=n(33977);n(82946);var u=n(67294);function f(e){let[t,n]=(0,u.useState)(!0),r=["h1","h2","h3","h4","h5","h6"],f=e=>{let t=[];r.forEach(e=>{let n=document.getElementsByTagName(e);for(let a=0;a<n.length;a++)t.push(n[a])});let n=t.filter(t=>t.dataset&&t.dataset.id==e&&t.parentElement&&t.parentElement.className==l().markdown);if(0==n.length)return;let a=document.getElementById("leftContaniner");null!=a&&(a.scrollTop=n[0].offsetTop-30)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.D,{components:{img:e=>(0,a.jsx)("img",{...e,style:{maxWidth:"100%"}}),code(e){let{node:t,inline:n,className:r,children:l,...s}=e,o=/language-(\w+)/.exec(r||"");return!n&&o?(0,a.jsx)(d.Z,{...s,style:h.m4,language:o[1],PreTag:"div",children:String(l).replace(/\n$/,"")}):(0,a.jsx)("code",{className:r,...s,children:l})}},remarkPlugins:[o.Z,m.Z],rehypePlugins:[i.Z,c.Z],className:l().markdown,transformImageUri:(t,n,a)=>t.startsWith("http://")||t.startsWith("https://")?t:"../../sources/"+e.parentPath+"/"+t,children:e.content}),(0,a.jsxs)("div",{className:"".concat(l().navContainer," ").concat(t?"":l().navContainerHide),children:[(0,a.jsx)("div",{className:l().toggleBtn,onClick:()=>{n(!t)},children:t?"目录 →":"← 目录"}),(0,a.jsx)(g.ZP,{source:e.content,onNavItemClick:(e,t,n)=>{f(n)}})]})]})}},21040:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return v},default:function(){return N}});var a=n(85893),r=n(17136),l=n.n(r),s=n(1274),o=n(1869),i=n(80011),c=n(45453),d=n(19944),h=n(84477),m=n(62635),g=n(67294),u=n(25675),f=n.n(u),p=n(41664),_=n.n(p);n(9675);var x=n(91293);let{Header:j,Content:w,Sider:C}=s.Z,k=n(83346);var v=!0;function N(e){let{notes:t}=e,[n,r]=(0,g.useState)(!1),[u,p]=(0,g.useState)([]),[v,N]=(0,g.useState)("0"),[y,I]=(0,g.useState)(-1),[b,E]=(0,g.useState)("");(0,g.useEffect)(()=>{S()},[v]);let S=()=>{let e=v.split("-"),n=[];if(1==e.length)n=t[parseInt(e[0])].mds,E(t[parseInt(e[0])].parentPath);else{let a={};e.forEach((e,n)=>{a=0==n?t[parseInt(e)]:a.children[parseInt(e)]}),a.mds&&(n=a.mds),a.parentPath&&E(a.parentPath)}p(n),n.length>0?I(0):(I(-1),E(""))},P=e=>{N(e)},[Z,T]=(0,g.useState)(!1),B=()=>{let e=document.getElementById("contaniner");null!=e&&((e.scrollTop||0)>.3*e.clientHeight?T(!0):T(!1))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(j,{className:l().header,children:[(0,a.jsxs)("div",{className:l().headerLeft,children:[g.createElement(n?d.Z:h.Z,{className:l().trigger,onClick:()=>r(!n)}),(0,a.jsx)(_(),{href:k.hostname.length>0?k.hostname:"/",className:l().link,children:(0,a.jsx)(f(),{className:l().iconImage,src:"../../favicon.ico",alt:"",width:22,height:22})}),(0,a.jsx)(_(),{href:"https://github.com/flyingDandelionYD",className:l().link,children:(0,a.jsx)(f(),{priority:!0,className:l().iconImage,src:"../../github.jpg",alt:"",width:32,height:22})})]}),(0,a.jsx)("div",{className:l().headerRight,children:e.notesItems?(0,a.jsx)(o.Z,{listHeight:500,dropdownStyle:{padding:"10px 16px"},dropdownMatchSelectWidth:!1,placement:"bottomRight",treeData:e.notesItems,placeholder:"请选择笔记",treeDefaultExpandAll:!0,value:v,onSelect:P}):(0,a.jsx)(a.Fragment,{})})]}),(0,a.jsxs)(s.Z,{className:l().layoutContainer,children:[(0,a.jsx)(C,{className:l().sider,trigger:null,collapsible:!0,collapsed:n,width:220,collapsedWidth:0,breakpoint:"sm",onBreakpoint:e=>{r(e)},children:u.length>0?(0,a.jsx)(i.ZP,{itemLayout:"horizontal",dataSource:u,renderItem:(e,t)=>(0,a.jsx)(i.ZP.Item,{style:y==t?{color:"#b000cd",backgroundColor:"rgb(247 247 247)"}:{color:"black",backgroundColor:"#fff"},className:l().listItem,onClick:()=>{I(t)},children:e.title.replace(".md","")})}):(0,a.jsx)(a.Fragment,{})}),(0,a.jsx)(w,{className:l().contents,children:u[y]?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:"contaniner",onScrollCapture:B,style:{backgroundColor:"white",height:"100%",borderRadius:"6px",overflowY:"scroll",padding:"8px",scrollBehavior:"smooth"},children:["  ",u[y].frontmatter?(0,a.jsxs)("div",{style:{padding:"8px 0 0 0"},children:[u[y].frontmatter.title?(0,a.jsx)("div",{children:"标题:"+u[y].frontmatter.title}):null,u[y].frontmatter.description?(0,a.jsx)("div",{children:"描述:"+u[y].frontmatter.description}):null,u[y].frontmatter.createdDate?(0,a.jsx)("div",{children:"创建日期:"+u[y].frontmatter.createdDate}):null,u[y].frontmatter.tags?(0,a.jsx)("div",{children:"类别:"+u[y].frontmatter.tags}):null]}):null,(0,a.jsx)(x.default,{content:u[y].content,parentPath:b})]}),Z?(0,a.jsx)(c.Z,{icon:(0,a.jsx)(m.Z,{}),onClick:()=>{let e=document.getElementById("contaniner");null!=e&&(e.scrollTop=0)}}):null]}):(0,a.jsx)(a.Fragment,{})})]})]})}let y=(e,t)=>{let n=[];return e&&e.length>0&&e.forEach((e,a)=>{if(e.title&&e.title.length){let r=t.length>0?t+"-"+a:a+"",l={value:r,title:e.title};if(e.children&&e.children.length>0){let s=y(e.children,r);s.length>0&&Object.assign(l,{children:s})}n.push(l)}}),n},I=async e=>{try{let t=await fetch(k.getsourceshost+"/onemdcontent",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({mdpath:e})}),n=await t.json();return n.content}catch(a){return console.log("获取mdconent失败:"+e),console.log(a),""}},b=async(e,t)=>{if(e&&e.length>0){for(let n of e)if(n.title&&n.title.length){let a=t+"/"+n.title;if(Object.assign(n,{parentPath:a}),n.mds&&n.mds.length>0)for(let r of n.mds){let l=await I(a+"/"+r.title),{data:s,content:o}=matter(l);Object.assign(r,{frontmatter:s,content:o})}n.children&&n.children.length>0&&await b(n.children,a)}}return e}},63083:function(e){e.exports={markdown:"markdown_markdown__yfc8y",toggleBtn:"markdown_toggleBtn__THOt4",navContainer:"markdown_navContainer__DnxsX",navContainerHide:"markdown_navContainerHide__8LalC"}},17136:function(e){e.exports={header:"showContent_header__OgP6r",headerLeft:"showContent_headerLeft__AlL_G",headerRight:"showContent_headerRight__8Nirb",link:"showContent_link__co7er",iconImage:"showContent_iconImage__uHuFL",layoutContainer:"showContent_layoutContainer__Sgxcg",trigger:"showContent_trigger__pFXjD",sider:"showContent_sider___9IVX",listItem:"showContent_listItem__0ccke",contents:"showContent_contents__tcw8b"}},33596:function(){}},function(e){e.O(0,[265,146,607,526,664,643,774,888,179],function(){return e(e.s=61681)}),_N_E=e.O()}]);