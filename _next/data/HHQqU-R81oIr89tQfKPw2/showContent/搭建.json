{"pageProps":{"notes":[{"title":"测试","mds":[{"title":"test.md","frontmatter":{"title":"测试md","description":"Test-Description","createdDate":"2022/12/14","tags":["test"]},"content":"# base\n\n```Swift\nlet a = 123\n```\n\n\n```js\nlet a = 456\n```\n\n```shell\necho 789\n```\n\n\n# 数学公式\n<font style=\"color:red\">输入`$$`</font>\n$$\nax^2+bx+x=0,a\\neq 0\n$$\n\n<font style=\"color:green\">[Markdown中的数学公式添加](http://home.ustc.edu.cn/~zzx2002/new/2021/08/04/mathjax/)</font>\n\n<a href=\"http://home.ustc.edu.cn/~zzx2002/new/2021/08/04/mathjax/\">Markdown中的数学公式添加</a>\n\n\n# 图片\n![](./assets/1.webp)\n\n![](https://img0.baidu.com/it/u=1705694933,4002952892&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281)"}],"children":[],"parentPath":"搭建/测试"},{"title":"开始","mds":[{"title":"说明.md","frontmatter":{},"content":"### 参考\n\n- 现成\n  - [docusaurus](https://github.com/facebook/docusaurus)\n  - [VuePress中文网](http://caibaojian.com/vuepress/)\n  - ...\n\n- 定制（检验基础知识）\n  - [next.js](https://github.com/vercel/next.js)\n  - 在markdown里面写`JSX`\n    - [MDX](https://github.com/mdx-js/mdx/)\n    - [Using MDX（nextjs官网说明）](https://nextjs.org/docs/advanced-features/using-mdx)\n\n\n\n### 补充：\n- [Nextjs 博客搭建教程](https://meishizaolunzi.com/next-blog-tutorials/)\n\n- [官网:next-js-custom-server](https://github.com/vercel/next.js/tree/canary/examples/custom-server)\n\n- [聊聊Node两种模块规范：CJS 与 ESM，有什么不同点？](https://blog.csdn.net/qq_43067585/article/details/127859948)"},{"title":"start.md","frontmatter":{},"content":"# 开始\n### 技术栈\n- [nextjs](https://nextjs.org/)<font color=\"green\"> 开发</font>\n- [vercel](https://vercel.com/)<font color=\"green\"> 部署</font>\n    - 这里可以自己试下，本人试了很简单，网上也有教程\n    - <font color=\"red\">缺点：</font>国内访问比较慢（除非FQ）\n- [github](https://github.com/)<font color=\"green\"> 部署</font>\n    - 这是我使用的方式（下面或着重介绍的）\n\n---\n### 后端\n#### 因为\n这里使用了静态部署博客的，所有这里直接使用后台数据获取并生成所有的静态页面，也方便以后直接添加资源并部署\n\n<font color=\"red\">使用到：</font>\n- experss\n\n#### 思路\n1. 所有的文章都放在`/sources/books`下\n2. 第一层目录是笔记的名字\n3. 第二层是下一层子笔记\n4. 如果第一层笔记里面有icon，则需要创建icon里面存放图标\n5. 之后的笔记里面，如果有子笔记，图标等静态资源统一放在`./assets`里面\n6. express提供的接口\n    - 获取所有的静态文件（通过zip的格式，将除了.md文件的其他所有包括文件层级压缩）\n    - 获取所有的笔记，即传给前端notes.json文件\n        ```json\n            {\n              \"books\": [\n                {\n                  \"noteName\": \"笔记的名字\",\n                  \"description\": \"笔记的描述\",\n                  \"icon\": \"笔记图标名字\",\n                  \"notes\": [\n                    {\n                      \"title\": \"子笔记名字\",\n                      \"mds\": [\n                        {\n                          \"title\": \"内容.md\"\n                        }\n                      ],\n                      \"children\": [ //notes里面的对象格式\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n        ```\n    - 根据路径获取md的内容\n\n\n<font color=\"green\">补充</font>\n- 其实对于`notes.json`文件，是可以自动生成的，通过监听`books`文件夹的变化\n  - `npm install chokidar`\n\n\n---\n###前端\n- nexjs\n- antd\n\n#### 思路\n1. 使用是`nexjs`+`antd`\n2. 生成静态文件`getStaticProps`+`getStaticPaths`\n3. 编译\n    - 首先运行`downloadStatics.sh`将静态文件从上面提供的接口下载下来，存放到`public/sources`文件夹下\n    - 运行`npm run export`(注意`config.js`里面的hostname的配置)\n\n<font color=\"red\">注意点</font>\n1. 注意里面的静态资源必须是可以访问的哟，最好不要使用`相对路径`而是使用`相对域名的绝对路径`\n\n---\n### 部署\n**使用github.page**\n- 首先在[github](https://github.com/)创建一个仓库\n- 然后点击`Settings` --> `Pages` -->`Build and deployment` --> `Branch`-->`选择分支`保存\n- 过个1分钟左右，可在上面看到`Your site is live at [地址]`\n- 将`[地址]`复制在前端编译`config.js`之`hostname`\n- 将上述编译好的，直接`git push`到仓库，等个1分钟 待会就可以直接访问啦\n\n<font color=\"red\">注意点</font>\n1. git pages里面，部署之后出现css样式失效的问题\n    - 由于github pages的jekyll模版会忽略下划线开头的文件，所以要禁用jekyll\n    - 解决，在根目录下创建一个`.nojekyll`一个空文件即可\n2. 部署的时候，注意域名对应起来，不然静态资源是访问不到的\n\n<font color=\"green\">补充</font>\n- 可以使用`workflows`工作方式（非上述选择branch的方式），这样只要一推送，会立马重新deploy\n    - [利用workflows工作流Actions自动部署Vue项目Deploy to GitHub Pages](https://blog.csdn.net/mouday/article/details/127321228)\n"}],"children":[],"parentPath":"搭建/开始"}],"notesItems":[{"value":"0","title":"测试"},{"value":"1","title":"开始"}]},"__N_SSG":true}